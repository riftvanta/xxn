# نظام إدارة الحسابات البنكية (Bank Accounts Management System)

## نظرة عامة

نظام إدارة الحسابات البنكية هو تطبيق ويب مصمم خصيصاً لإدارة حسابات بنكية متعددة (30+ حساب) وتتبع المعاملات المالية اليومية بسرعة ودقة. يوفر النظام واجهة عربية سهلة الاستخدام مع تركيز على السرعة في إدخال البيانات والدقة في حساب الأرصدة.

## المميزات الرئيسية

### ✅ إدارة الحسابات البنكية
- إضافة حسابات بنكية متعددة مع أرصدة افتتاحية
- تتبع الأرصدة الحالية تلقائياً
- عرض نظرة شاملة على جميع الحسابات

### ✅ إدخال المعاملات عالي السرعة
- إدخال سريع للمعاملات مع نظام الدفعات (batch entry)
- تصنيف تلقائي للحسابات المقابلة (عملاء، موردين، مصروفات)
- حفظ متعدد للمعاملات في عملية واحدة

### ✅ تتبع الأرصدة التلقائي
- حساب تلقائي لأرصدة الحسابات
- عرض فوري للأرصدة المحدثة
- تتبع التغييرات منذ بداية الاستخدام

### ✅ تصميم عربي أولاً
- واجهة عربية كاملة مع تخطيط من اليمين لليسار
- تنسيق الأرقام بالطريقة العربية
- رسائل وتنبيهات باللغة العربية

## متطلبات النظام

- Python 3.8 أو أحدث
- Flask 2.3.3
- SQLAlchemy
- PostgreSQL 12+ (للإنتاج) أو SQLite (للتطوير)
- متصفح ويب حديث

## التثبيت والإعداد

### 1. استنساخ المشروع

```bash
git clone <repository-url>
cd bank-accounts-management
```

### 2. إنشاء بيئة افتراضية

```bash
python3 -m venv venv
source venv/bin/activate  # على Linux/Mac
# أو
venv\Scripts\activate  # على Windows
```

### 3. تثبيت المتطلبات

```bash
pip install -r requirements.txt
```

### 4. إعداد قاعدة البيانات

#### للتطوير (SQLite):
```bash
python app.py
```

#### للإنتاج (PostgreSQL):
```bash
# تثبيت PostgreSQL
sudo apt install postgresql postgresql-contrib

# إعداد قاعدة البيانات
sudo -u postgres createuser --interactive bankuser
sudo -u postgres createdb bank_accounts_db -O bankuser

# تشغيل التطبيق مع PostgreSQL
./start_postgresql.sh
```

التطبيق سيعمل على: `http://localhost:5000`

## دليل الاستخدام

### الإعداد الأولي

1. **إضافة الحسابات البنكية:**
   - اذهب إلى "الإعدادات"
   - أضف حساباتك البنكية مع أسماء واضحة (مثل: "البنك الأهلي - حساب جاري")
   - أدخل الرصيد الموجود في كل حساب حالياً

2. **إضافة الحسابات المقابلة:**
   - أضف العملاء (من يدفعون لك)
   - أضف المصروفات (إيجار، فواتير، رواتب)
   - أضف الموردين (من تدفع لهم)
   - أضف البنوك الأخرى (للتحويلات)

### إدخال المعاملات اليومية

1. **اذهب إلى "إدخال المعاملات"**
2. **اختر الحساب البنكي** الذي تريد العمل عليه
3. **أدخل المعاملات بسرعة:**
   - اختر الحساب المقابل
   - أدخل المبلغ
   - اختر نوع المعاملة (وارد/صادر)
   - أضف ملاحظات (اختياري)
   - اضغط "إضافة إلى القائمة"

4. **كرر العملية** لجميع معاملات اليوم
5. **احفظ جميع المعاملات** دفعة واحدة

### مراقبة الأرصدة

- **الرئيسية:** عرض شامل لجميع الحسابات وأرصدتها
- **سجل المعاملات:** تفاصيل جميع المعاملات مع إحصائيات

## هيكل المشروع

```
bank-accounts-management/
├── app.py                    # التطبيق الرئيسي
├── requirements.txt          # متطلبات Python
├── README.md                # هذا الملف
├── config_postgresql.py     # إعدادات PostgreSQL
├── start_postgresql.sh      # سكريبت تشغيل PostgreSQL
├── backup_postgresql.sh     # سكريبت النسخ الاحتياطية
├── bank_accounts.db         # قاعدة بيانات SQLite (للتطوير)
├── backups/                 # مجلد النسخ الاحتياطية
└── templates/
    ├── base.html            # القالب الأساسي
    ├── dashboard.html       # الصفحة الرئيسية
    ├── setup.html           # صفحة الإعدادات
    ├── transactions.html    # صفحة إدخال المعاملات
    └── transaction_history.html # سجل المعاملات
```

## إدارة قاعدة البيانات

### النسخ الاحتياطية

```bash
# إنشاء نسخة احتياطية
./backup_postgresql.sh

# استعادة من نسخة احتياطية
psql -U bankuser -h localhost -d bank_accounts_db < backup_file.sql
```

### التبديل بين SQLite و PostgreSQL

التطبيق يدعم كلا النوعين من قواعد البيانات:

```bash
# SQLite (للتطوير)
python app.py

# PostgreSQL (للإنتاج)
POSTGRES_USER=bankuser POSTGRES_DB=bank_accounts_db python app.py
```

## النشر والإنتاج

### النشر على خدمة سحابية

```bash
# مثال للنشر على Heroku مع PostgreSQL
heroku create your-app-name
heroku addons:create heroku-postgresql:hobby-dev
git push heroku main
```

### متغيرات البيئة للإنتاج

```bash
export POSTGRES_USER=your_user
export POSTGRES_PASSWORD=your_secure_password
export POSTGRES_HOST=your_host
export POSTGRES_DB=your_database
export SECRET_KEY=your_secret_key
```

### الأمان

- غيّر `SECRET_KEY` في الإنتاج
- استخدم متغيرات البيئة للمعلومات الحساسة
- فعّل HTTPS

## الدعم الفني

للمساعدة أو الاستفسارات:
- راجع هذا الدليل أولاً
- تحقق من سجل الأخطاء في وحدة التحكم
- تأكد من صحة البيانات المدخلة

## رخصة الاستخدام

هذا المشروع مُرخص تحت [رخصة MIT](LICENSE).

## التطوير المستقبلي

### مميزات مخطط لها:
- تقارير مالية متقدمة
- تصدير البيانات لـ Excel
- نسخ احتياطية تلقائية
- واجهة برمجة تطبيقات (API)
- تطبيق جوال

---

**ملاحظة:** هذا المنتج الأولي الأدنى للتطبيق (MVP) مصمم للاستخدام المحلي والشركات الصغيرة. للاستخدام على نطاق أوسع، يُنصح بتطوير مميزات إضافية للأمان وإدارة المستخدمين. 